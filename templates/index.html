<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Kripto Uzman Sistemi</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f3f3f3; margin: 0; padding: 0; }
        .container { max-width: 900px; margin: auto; background: #fff; padding: 20px; margin-top: 30px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        h1, h3 { text-align: center; color: #2c3e50; }
        form { margin-bottom: 20px; }
        label { display: block; margin-top: 10px; font-weight: bold; }
        select, input[type="submit"] { padding: 8px; width: 100%; margin-top: 5px; border: 1px solid #ccc; border-radius: 4px; }
        button { margin-top: 10px; padding: 10px; border: none; background-color: #3498db; color: white; border-radius: 4px; cursor: pointer; }
        button:hover { background-color: #2980b9; }
        .result { background: #ecf0f1; padding: 15px; margin-top: 20px; border-radius: 5px; }
        .warning { color: #e74c3c; font-weight: bold; }
        .plot { max-width: 100%; margin-top: 10px; }
        ul { padding-left: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ“ˆ Kripto Uzman Sistemi</h1>

        <form method="post">
            <label>Coin SeÃ§in:</label>
            <select name="symbols" multiple>
                <option value="BTCUSDT">BTC/USDT</option>
                <option value="ETHUSDT">ETH/USDT</option>
                <option value="BNBUSDT">BNB/USDT</option>
            </select>

            <label>Risk Tercihi:</label>
            <select name="risk">
                <option value="dÃ¼ÅŸÃ¼k">DÃ¼ÅŸÃ¼k</option>
                <option value="orta">Orta</option>
                <option value="yÃ¼ksek">YÃ¼ksek</option>
            </select>

            <label>YatÄ±rÄ±m SÃ¼resi:</label>
            <select name="term">
                <option value="kÄ±sa">KÄ±sa Vadeli</option>
                <option value="orta">Orta Vadeli</option>
                <option value="uzun">Uzun Vadeli</option>
            </select>

            <input type="submit" value="Ã–neri Al">
        </form>

        <button onclick="document.getElementById('kurallar').style.display='block'">ðŸ“˜ Kurallar NasÄ±l Ã‡alÄ±ÅŸÄ±yor?</button>
        <div id="kurallar" style="display:none; background:#dff9fb; padding:10px; margin-top:10px; border-radius:5px;">
            <ul>
                <li>RSI &lt; 40 ve MACD > Signal â†’ AlÄ±m Ã¶nerisi</li>
                <li>RSI &gt; 65 ve MACD &lt; Signal â†’ SatÄ±ÅŸ Ã¶nerisi</li>
                <li>Risk tercihi ve sÃ¼reye gÃ¶re deÄŸerlendirme yapÄ±lÄ±r</li>
                <li>Kural ve model farklÄ± sonuÃ§ verirse kullanÄ±cÄ± uyarÄ±lÄ±r</li>
            </ul>
        </div>

        {% if result %}
            <h3>ðŸ“Š Ã–neri SonuÃ§larÄ±</h3>
            {% for item in result %}
                <div class="result">
                    <h4>{{ item.symbol }}</h4>
                    <p><strong>RSI:</strong> {{ item.rsi }}</p>
                    <p><strong>MACD:</strong> {{ item.macd }}</p>
                    <p><strong>MACD Sinyali:</strong> {{ item.macd_signal }}</p>

                    <p><strong>Kurallara GÃ¶re Ã–neri:</strong></p>
                    <ul>
                        {% for a in item.advice %}
                        <li>{{ a }}</li>
                        {% endfor %}
                    </ul>

                    <p><strong>Sistem AÃ§Ä±klamasÄ±:</strong> {{ item.explanation }}</p>
                    <p><strong>ML Tahmini:</strong> {{ item.ml_advice }}</p>
                    <p><strong>ML GÃ¼ven Skoru:</strong> {{ item.confidence }}</p>

                    <img class="plot" src="{{ item.plot }}">
                </div>
            {% endfor %}
        {% endif %}
    </div>
</body>
</html>
